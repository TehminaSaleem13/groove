<div bindonce="options" class="binder">

<div bo-if="options.select_all !== false" class="select_all_box col-md-2 col-lg-2">
    <button ng-click="options.select_all(true)" ng-hide="options.setup.select_all" type="button" class="btn groove-button">Select All<br/>{{rows.length}}</button>
    <button ng-click="options.select_all(false)" ng-show="options.setup.select_all" type="button" class="btn groove-button">Selected:<br/>{{rows.length}}</button>
</div>
<div class="col-md-12">
    <table groov-dragtable="dragOptions" groov-enabled="options.draggable" groov-model="theads" id="{{custom_identifier}}" class="well table-well table table-striped table-hover table-alt">
        <thead groov-rt-click="context_menu($event)">
        <tr>
            <th ng-repeat="field in theads" class="{{options.all_fields[field].class}}" groov-draggable="{{options.all_fields[field].draggable}}" ng-class="{active: options.setup.sort == field}">
                <div bo-if="options.all_fields[field].sortable" ng-click="options.sort_func(field); $event.preventDefault(); $event.stopPropagation();" bo-text="options.all_fields[field].name" ng-class="options.setup.order"></div>
                <div bo-if="!options.all_fields[field].sortable" bo-text="options.all_fields[field].name"></div>
                <span class="holder" ng-show="!$last"></span>
            </th>
        </tr>
        </thead>
        <tbody>

        <tr ng-click="check_uncheck(row)" ng-repeat="row in rows" ng-class="{selected: row.checked}">
            <td ng-repeat="field in theads">
                <div style="display:inline-block; width:100%;height:100%;" bo-if="options.editable != false && options.all_fields[field].editable == true" groov-rt-click="compile($parent.$parent.$index,field)">
                    <div ng-hide="editable[field][$parent.$parent.$index]">
                        <span bo-if="options.all_fields[field].transclude == '' && row[field] !== null" bo-text="row[field]"></span>
                        <span bo-if="options.all_fields[field].transclude == '' && row[field] == null"> &nbsp;</span>
                        <span bo-if="options.all_fields[field].transclude != ''" ng-bind-html="options.all_fields[field].grid_bind" compile-template ></span>
                    </div>
                    <div ng-bind-html="editable[field][$parent.$parent.$index]" compile-template></div>
                </div>
                <div bo-if="options.editable == false || options.all_fields[field].editable == false">
                    <span bo-if="options.all_fields[field].grid_bind != '' " ng-bind-html="options.all_fields[field].grid_bind" compile-template></span>
                    <span bo-if="options.all_fields[field].grid_bind == '' " bo-text="row[field]"></span>
                </div>
            </td>

        </tr>
        </tbody>
    </table>
</div>
    <div bo-if="options.show_hide">
        <div class="clearfix"  ng-click="context_menu()" groov-rt-click="context_menu()" dropdown  is-open="context_menu.shown">
            <ul class="dropdown-menu" ng-style="context_menu_style" role="menu">
                <li ng-repeat="field in options.all_fields" ng-show="field.hideable">

                    <a href="" ng-click="show_hide(field); $event.stopPropagation();" groov-rt-click="show_hide(field); $event.stopPropagation();"> <i class="glyphicon pull-left" ng-class="{'glyphicon-ok':!field.hidden, 'glyphicon-remove':field.hidden}"></i> <span bo-text="field.name"></span></a>
                </li>
            </ul>
        </div>
    </div>
</div>
